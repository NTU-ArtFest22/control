<!DOCTYPE html>
<html ng-app="admin-user">
  <head>
    <meta charset="utf-8">
    <title>NTUAF Chat Room </title>

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-route.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular-animate.js"></script>
    <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-1.2.2.js"></script>
    <script src="/javascripts/ng-admin-user.js"></script>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Alegreya+Sans:400,400italic' rel='stylesheet' type='text/css'>
    <link href="/stylesheets/style.css" rel="stylesheet">
    <link href="/stylesheets/dashboard.css" rel="stylesheet">
    
  </head>

  <body>
    <%- include layout/navbar %>
    <div class="row">
      <%- include layout/admin_sidebar %>
      <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">


        <div ng-controller="adminUsersCtrl">
          <script type="text/ng-template" id="edit-user-modal.html">
            <%- include layout/edit-user-modal %> 
          </script>
          <table class="table table-striped">
            <thead>
              <tr>
                <th>&nbsp;</th>
                <th>Artist</th>
                <th>Name</th>         
                <th>email</th>
                <th>Date</th>
                <th>Activities</th>
                <th>&nbsp;</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="user in userlist">
                <td><strong>{{ user.isAdmin ? "+" : "-" }}</strong></td>
                <td><font color="red"><strong>{{ user.isArtist ? "V" : "" }}</strong></font></td>
                <td>{{user.fb.displayName}}</td>
                <td>{{ user.fb.email }}</td>
                <td>{{user.time |date:'yyyy-MM-dd HH:mm:ss' }}</td>
                <td>
                  <ul>
                    <li ng-repeat="act in user.activities">
                      {{ act.player_id }} # {{ act.gameName }}
                    </li>
                  </ul>
                </td>
                <td>
                  <button class="btn btn-warning" ng-click="open( user )" >Edit</button>
                  <button class="btn btn-danger" ng-click="remove(user._id)">Remove</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>


      </div> <!--main-->
    </div> <!--row-->
  </body>
</html>

